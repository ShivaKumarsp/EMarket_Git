<ngx-spinner  bdColor="rgba(51,51,51,0.8)"  size="medium"  color="#fff"  type="ball-scale-multiple">
          <p style="font-size: 20px; color: white">Loading...</p>
        </ngx-spinner> 
      <script>
          function isNumber(evt) {
              evt = (evt) ? evt : window.event;
              var charCode = (evt.which) ? evt.which : evt.keyCode;
              if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                  return false;
              }
              return true;
          }
      
      </script>
      
      <div ng-init="BindData()">
          <section class="padding-small" >
             
           
              <div class="container">
                  <div class="row d-flex">
                     
                      <div class="col-lg-3 text-right order-1 order-lg-2">
                          <ul class="breadcrumb justify-content-lg-end">
                              <li class="breadcrumb-item"><a >Home</a></li>
                              <li class="breadcrumb-item active">User Creation</li>
                          </ul>
                      </div>
                  </div>
              </div>
      
          </section>
          <section class="padding-small" >
              <div class="container">
                  <div class="row">
                    
                      <div class="col-lg-12">
                                               
                          <div class="block-header mb-5">
                              <h5>Delivery Executive User Creation</h5>
                          </div>
                          <form method="post" [formGroup]="customervalid" name="myForm1" class="content-block">
                              <div class="row">
                                  <div class="col-sm-6">
                                      <div class="form-group">
                                          <label  class="form-label">First Name<b style="color: red;">*</b></label>
                                          <input  formControlName="firstname"  type="text" class="form-control" 
                                          [(ngModel)]="first_name" maxlength="15" onkeydown="return /[a-zA-Z]/i.test(event.key)"  [ngClass]="{ 'is-invalid': submitted && f['firstname'].errors }">
                                          <div *ngIf="submitted && f['firstname'].errors" class="invalid-feedback">
                                      <div *ngIf="f['firstname'].errors['required']">Enter First Name</div> 
                                                </div>
                                      </div>
                                  </div>
                                  <div class="col-sm-6">
                                      <div class="form-group">
                                          <label for="lastname" class="form-label">Last Name</label>
                                          <input id="lastname" formControlName="lastname"   type="text" class="form-control" maxlength="15" [(ngModel)]="second_name" onkeydown="return /[a-zA-Z]/i.test(event.key)" >
                                          </div>
                                  </div>
                              </div>
                              <!-- /.row-->
                              <div class="row">
                                  <div class="col-sm-6">
                                      <div class="form-group">
                                          <label  class="form-label">Email<b style="color: red;">*</b></label>
                                          <input  formControlName="email" type="email" class="form-control" [(ngModel)]="email" [ngClass]="{ 'is-invalid': submitted && f['email'].errors }">
                                          <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['email'].errors['required']">Enter Email</div> 
                                                </div>
                                      </div>
                                  </div>
                                  <div class="col-sm-6">
                                      <div class="form-group">
                                          <label  class="form-label">Mobile<b style="color: red;">*</b></label>
                                          <input  formControlName="phonenumber" type="text" class="form-control" [(ngModel)]="mobile"
                                                minlength="10" maxlength="10" onkeypress='return event.charCode >= 48 && event.charCode <= 57' [ngClass]="{ 'is-invalid': submitted && f['phonenumber'].errors }">
                                                <div *ngIf="submitted && f['phonenumber'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['phonenumber'].errors['required']">Enter Mobile Number</div> 
                                                </div>
                                            
                                      </div>
                                  </div>
                              </div>
                              <!-- /.row-->
                              <div class="row">
                                  <div class="col-sm-12">
                                      <div class="form-group">
                                          <label for="address" class="form-label">Address<b style="color: red;">*</b></label>
                                          <textarea  formControlName="address" type="text" class="form-control" [(ngModel)]="address" [ngClass]="{ 'is-invalid': submitted && f['address'].errors }"></textarea>
                                          <div *ngIf="submitted && f['address'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['address'].errors['required']">Enter Address</div> 
                                                </div>
                                      </div>
                                  </div>
                                  <div class="form-group col-md-6">
                                      <label  class="form-label">Country<b style="color: red;">*</b></label>
                                      <select class="custom-select form-control form-control-sm"  formControlName="countryid" [(ngModel)]="countryid" (click)="getstate(countryid)" [ngClass]="{ 'is-invalid': submitted && f['countryid'].errors }">
                                          <option value="">-- Select Country --</option>
                                          <option *ngFor="let cname of countrylist" value="{{cname.countryid}}" selected="{{cname.countryid==countryid}}">
                                              {{cname.countryname}}
                                          </option>
                                      </select>
                                      <div *ngIf="submitted && f['countryid'].errors" class="invalid-feedback">
                                        <div *ngIf="f['countryid'].errors['required']">Select Country</div> 
                                      </div>
                                  </div>
                                  <div class="col-sm-6 ">
                                      <div class="form-group">
                                          <label  class="form-label">State<b style="color: red;">*</b></label>
                                          <select class="custom-select form-control form-control-sm" formControlName="state" [(ngModel)]="stateid" [ngClass]="{ 'is-invalid': submitted && f['state'].errors }">
                                              <option value="">-- Select State --</option>
                                              <option *ngFor="let state of statelist" value="{{state.stateid}}" ng-selected="{{state.stateid==stateid}}">
                                                  {{state.statename}}
                                              </option>
                                          </select>
                                          <div *ngIf="submitted && f['state'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['state'].errors['required']">Select State</div> 
                                                </div>
                                      </div>
                                  </div>
      
                                  <div class="col-sm-6 ">
                                      <div class="form-group">
                                          <label  class="form-label">City<b style="color: red;">*</b></label>
                                          <input  name="city" type="text" formControlName="city" class="form-control" [(ngModel)]="city" [ngClass]="{ 'is-invalid': submitted && f['city'].errors }">
                                          <div *ngIf="submitted && f['city'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['city'].errors['required']">Enter City</div> 
                                                </div> 
                                      </div>
                                  </div>
      
                                  <div class="form-group col-md-6">
                                      <div class="form-group">
                                          <label  class="form-label">Pincode<b style="color: red;">*</b></label>
                                          <input   type="text"  formControlName="pincode" class="form-control" [(ngModel)]="pincode"
                                              minlength="6" maxlength="6" onkeypress='return event.charCode >= 48 && event.charCode <= 57' [ngClass]="{ 'is-invalid': submitted && f['pincode'].errors }">
                                              <div *ngIf="submitted && f['pincode'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['pincode'].errors['required']">Enter Pincode</div> 
                                                </div>
                                      </div>
                                  </div>
      
      
                                  <div class="form-group col-md-6">
                                      <div class="form-group">
                                          <label  class="form-label">Date Of Birth<b style="color: red;">*</b></label>
                                              <input formControlName="new_dob" type="date"
                                         name="manufacturing_date" class="form-control"  [max]="min_dob| date: 'yyyy-MM-dd'" [(ngModel)]="new_dob" [ngClass]="{ 'is-invalid': submitted && f['new_dob'].errors }">
                                         <div *ngIf="submitted && f['new_dob'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['new_dob'].errors['required']">Select DOB</div> 
                                                </div>
                                                </div>
                                  </div> 
                                  <div class="col-sm-6">
                                      <div class="form-group">
                                          <label  class="form-label">Gender<b style="color: red;">*</b></label>
                                          <select class="custom-select form-control form-control-sm" formControlName="gender" [(ngModel)]="genderid" [ngClass]="{ 'is-invalid': submitted && f['gender'].errors }">
                                              <option value="">-- Select Gender --</option>
                                              <option *ngFor="let genname of genderlist" value="{{genname.genderid}}" ng-selected="{{genname.genderid==genderid}}">
                                                  {{genname.gendername}}
                                              </option>
                                          </select>
                                          <div *ngIf="submitted && f['gender'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['gender'].errors['required']">Select Gender</div> 
                                                </div>
      
                                      </div>
                                  </div>
      
                                  <div class="col-sm-6">
                                      <div class="form-group">
                                          <label  class="form-label">Alternative Mobile<b style="color: red;">*</b></label>
                                          <input  formControlName="altermob" type="text" class="form-control" [(ngModel)]="alternative_mobile"
                                                 minlength="10" maxlength="10" onkeypress='return event.charCode >= 48 && event.charCode <= 57' [ngClass]="{ 'is-invalid': submitted && f['altermob'].errors }">
                                                 <div *ngIf="submitted && f['altermob'].errors" class="invalid-feedback">
                                                  <div *ngIf="f['altermob'].errors['required']">Select Alternative Mobile</div> 
                                                </div>
                                      </div>
                                  </div>
                                  <div class="col-sm-12 mb-4">
                                        <label for="alternative_mobile" class="form-label">Upload Image<b style="color: red;">*</b></label>
                                      <input type="file" class="form-control form-control-sm"  formControlName="profilepic"  accept="image/*" [(ngModel)]="p_imageurl" (change)="selectFileUpload(imageInput)" id="img" #imageInput [ngClass]="{ 'is-invalid': submitted && f['profilepic'].errors }">
                                      <div *ngIf="submitted && f['profilepic'].errors" class="invalid-feedback">
                                        <div *ngIf="f['profilepic'].errors['required']">Upload Image</div> 
                                      </div>
                                  </div> 
      
                                  <div class="col-sm-12 text-center">
                                      <a type="button" class="btn btn-template wide next"  (click)="updatecustomerdata()">
                                          Create User
                                      </a>
      
                                      <!-- <button type="submit" class="btn btn-primary" (click)="updatecustomerdata()"><i class="fa fa-save"></i>Save</button> -->
                                  </div>
                              </div>
                          </form>
                      </div>
                  </div>
                  <div class="row mt-2" *ngFor="let val of validation_list">
                      <div class="col-md-9" style="color:red">{{val}}</div>               
                  </div> 
      
              </div>
          </section>
      </div>
      
      
      
      